<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AntiTruffa – Threat Analysis Console | Franco Ficara</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: #0f172a;
    color: #e2e8f0;
}

.container {
    max-width: 1100px;
    margin: 60px auto;
    padding: 40px;
}

.header {
    margin-bottom: 40px;
}

.header h1 {
    margin: 0;
    font-weight: 600;
    font-size: 28px;
}

.header p {
    margin-top: 8px;
    color: #94a3b8;
}

textarea, input {
    width: 100%;
    padding: 14px;
    margin-top: 10px;
    border-radius: 8px;
    border: 1px solid #334155;
    background: #1e293b;
    color: white;
}

button {
    margin-top: 15px;
    padding: 12px 22px;
    border: none;
    border-radius: 8px;
    background: #2563eb;
    color: white;
    font-weight: 600;
    cursor: pointer;
}

button:hover {
    background: #1d4ed8;
}

.card {
    background: #1e293b;
    padding: 25px;
    border-radius: 12px;
    margin-top: 25px;
}

.score {
    font-size: 40px;
    font-weight: 700;
}

.low { color: #22c55e; }
.medium { color: #f59e0b; }
.high { color: #ef4444; }

.badge {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    margin-top: 10px;
}

.badge.low { background:#052e16; color:#22c55e; }
.badge.medium { background:#3b2f00; color:#f59e0b; }
.badge.high { background:#3b0a0a; color:#ef4444; }

.section-title {
    margin-top: 20px;
    font-size: 14px;
    text-transform: uppercase;
    color: #94a3b8;
    letter-spacing: 1px;
}

.footer {
    margin-top: 60px;
    font-size: 13px;
    color: #64748b;
}
</style>
</head>

<body>

<div class="container">

<div class="header">
    <h1>AntiTruffa – Threat Analysis Console</h1>
    <p>Strumento tecnico di analisi comunicazioni fraudolente<br>
    <strong>Franco Ficara</strong></p>
</div>

<div class="card">
    <div class="section-title">Analisi Testo</div>
    <textarea id="input" placeholder="Incolla il messaggio sospetto..."></textarea>
    <button onclick="analyze()">Esegui Analisi</button>
</div>

<div class="card" id="result" style="display:none;">
    <div class="section-title">Threat Score</div>
    <div class="score" id="score"></div>
    <div class="badge" id="badge"></div>

    <div class="section-title">Indicatori Rilevati</div>
    <div id="signals"></div>

    <div class="section-title">Categoria Stimata</div>
    <div id="category"></div>
</div>

<div class="footer">
    AntiTruffa è uno strumento di analisi euristica. Non sostituisce verifiche ufficiali o indagini legali.
</div>

</div>

<script>
function analyze() {
    const text = document.getElementById("input").value.toLowerCase();
    let score = 0;
    let signals = [];
    let category = "rischio_generico";

    if (text.includes("http")) { score += 15; signals.push("LINK_PRESENT"); }
    if (text.includes("bit.ly") || text.includes("tinyurl")) { score += 25; signals.push("SHORTENER"); }
    if (text.match(/password|otp|codice|carta|iban|credenziali/)) { score += 35; signals.push("CREDENTIALS_REQUEST"); category="phishing_link"; }
    if (text.match(/urgente|bloccato|sospeso|verifica|aggiorna/)) { score += 25; signals.push("ACCOUNT_THREAT"); }
    if (text.match(/chiama subito|numero verde/)) { score += 20; signals.push("CALL_BACK_PATTERN"); }

    if (signals.includes("SHORTENER") && signals.includes("CREDENTIALS_REQUEST")) {
        score += 30;
        signals.push("DANGEROUS_COMBINATION");
    }

    if (score > 100) score = 100;

    let level = "BASSO";
    let css = "low";

    if (score >= 70) { level="ALTO"; css="high"; }
    else if (score >= 30) { level="MEDIO"; css="medium"; }

    document.getElementById("result").style.display = "block";
    document.getElementById("score").innerText = score + "/100 – " + level;

    const badge = document.getElementById("badge");
    badge.className = "badge " + css;
    badge.innerText = level;

    document.getElementById("signals").innerText = signals.length ? signals.join(" | ") : "Nessun indicatore rilevato";
    document.getElementById("category").innerText = category;
}
</script>

</body>
</html>
